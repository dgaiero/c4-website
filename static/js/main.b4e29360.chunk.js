(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(20),l=a.n(o),i=(a(73),a(74),a(18),a(16)),s=a(8),c=a(9),u=a(11),d=a(10),m=a(12),p=a(127),g=a(155),h=a(123),E=a(124),f=a(125),y=a(126),O=(a(40),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.openStatus,a=e.toggle,r=e.size,o=e.title,l=e.body;return n.a.createElement(g.a,{isOpen:t,toggle:a,centered:!0,size:r},n.a.createElement(h.a,{toggle:a},o),n.a.createElement(E.a,null,l),n.a.createElement(f.a,null,n.a.createElement(y.a,{color:"primary",onClick:a},"Close")))}}]),t}(r.Component)),v=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.openStatus,a=e.size;return n.a.createElement(g.a,{isOpen:t,centered:!0,size:a},n.a.createElement(h.a,null,this.props.title),n.a.createElement(E.a,null,this.props.body))}}]),t}(r.Component),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).errorModalOpenToggle=function(){a.setState({errorModalOpenFlag:!a.state.errorModalOpenFlag})},a.state={errorModalOpenFlag:!1,errorModalTitle:"",errorModalBody:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"loadingText",value:function(e,t,a){var r=this,o=n.a.createElement(p.a,{color:"primary",size:"sm"});return null!==a?o=n.a.createElement("a",{href:"#0",key:"ERROR",onClick:function(){return r.showErrorInfo(a.toString(),n.a.createElement("code",null,a.stack.toString()))}},"Error"):!1===t&&(o="done"),!1===t&&null===a?null:n.a.createElement("div",{key:e},"Loading ",e,"... ",o)}},{key:"showErrorInfo",value:function(e,t){this.setState({errorModalTitle:e,errorModalBody:t,errorModalOpenFlag:!this.state.errorModalOpenFlag})}},{key:"render",value:function(){var e=this,t=this.props,a=t.body,r=t.status;return n.a.createElement(n.a.Fragment,null,n.a.createElement(O,{openStatus:this.state.errorModalOpenFlag,title:this.state.errorModalTitle,body:this.state.errorModalBody,toggle:this.errorModalOpenToggle,size:"lg"}),n.a.createElement(v,{openStatus:!r,title:n.a.createElement("div",null,"Loading Components"),body:a.map(function(t){return e.loadingText(t.friendlyName,t.condition,t.error)})}))}}]),t}(r.Component),w=Object(i.b)(function(e){return{settings:e.settings,keywords:e.keywords,orgs:e.orgs,collaborators:e.collaborators}})(b),S=a(26),C=a(140),T=a(141),k=a(67),_=a(128),j=a(129),N=a(130),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={pager:{}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.items&&this.props.items.length&&this.setPage(this.props.initialPage)}},{key:"componentDidUpdate",value:function(e,t){this.props.items!==e.items&&this.setPage(this.props.initialPage)}},{key:"setPage",value:function(e){var t=this.props,a=t.items,r=t.pageSize,n=this.state.pager;if(!(e<1||e>n.totalPages)){n=this.getPager(a.length,e,r);var o=a.slice(n.startIndex,n.endIndex+1);this.setState({pager:n}),this.props.onChangePage(o)}}},{key:"getPager",value:function(e,t,a){t=t||1,a=a||10;var r,n,o=Math.ceil(e/a);o<=10?(r=1,n=o):t<=6?(r=1,n=10):t+4>=o?(r=o-9,n=o):(r=t-5,n=t+4);var l=(t-1)*a,i=Math.min(l+a-1,e-1),s=Object(k.a)(Array(n+1-r).keys()).map(function(e){return r+e});return{totalItems:e,currentPage:t,pageSize:a,totalPages:o,startPage:r,endPage:n,startIndex:l,endIndex:i,pages:s}}},{key:"render",value:function(){var e=this,t=this.state.pager;return!t.pages||t.pages.length<=1?null:n.a.createElement(_.a,{"aria-label":"pagination"},n.a.createElement(j.a,{disabled:1===t.currentPage},n.a.createElement(N.a,{first:!0,href:"#0",onClick:function(){return e.setPage(1)}})),n.a.createElement(j.a,{disabled:1===t.currentPage},n.a.createElement(N.a,{previous:!0,href:"#0",onClick:function(){return e.setPage(t.currentPage-1)}})),t.pages.map(function(a,r){return n.a.createElement(j.a,{key:r,active:t.currentPage===a},n.a.createElement(N.a,{href:"#0",onClick:function(){return e.setPage(a)}},a))}),n.a.createElement(j.a,{disabled:t.currentPage===t.totalPages},n.a.createElement(N.a,{next:!0,href:"#0",onClick:function(){return e.setPage(t.currentPage+1)}})),n.a.createElement(j.a,{disabled:t.currentPage===t.totalPages},n.a.createElement(N.a,{last:!0,href:"#0",onClick:function(){return e.setPage(t.totalPages)}})))}}]),t}(n.a.Component);M.defaultProps={initialPage:1,pageSize:30};var A=M,L=a(23),R=a.n(L),F={FETCH_KEYWORDS_BEGIN:"FETCH_KEYWORDS_BEGIN",FETCH_KEYWORDS_SUCCESS:"FETCH_KEYWORDS_SUCCESS",FETCH_KEYWORDS_FAILURE:"FETCH_KEYWORDS_FAILURE"},I=function(){return{type:F.FETCH_KEYWORDS_BEGIN}},D=function(e){return{type:F.FETCH_KEYWORDS_SUCCESS,payload:{keywords:e}}},B=function(e){return{type:F.FETCH_KEYWORDS_FAILURE,payload:{error:e}}};function U(){var e=[];return function(t){return t(I()),R.a.get("api/v1/keywords/?format=json").then(function(a){a.data.map(function(t){return e[t.id]=t,t}),t(D(e))}).catch(function(e){return t(B(e))})}}var G={FETCH_ORGANIZATIONS_BEGIN:"FETCH_ORGANIZATIONS_BEGIN",FETCH_ORGANIZATIONS_SUCCESS:"FETCH_ORGANIZATIONS_SUCCESS",FETCH_ORGANIZATIONS_FAILURE:"FETCH_ORGANIZATIONS_FAILURE"},H=function(){return{type:G.FETCH_ORGANIZATIONS_BEGIN}},K=function(e){return{type:G.FETCH_ORGANIZATIONS_SUCCESS,payload:{organizations:e}}},z=function(e){return{type:G.FETCH_ORGANIZATIONS_FAILURE,payload:{error:e}}};function x(){var e=[];return function(t){return t(H()),R.a.get("api/v1/orgs/?format=json").then(function(a){a.data.map(function(t){return e[t.id]=t,t}),t(K(e))}).catch(function(e){return t(z(e))})}}var P=a(131),W=a(132),Y=a(133);function q(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}var Z="\xa0";function V(e){return"TK"===e?{name:"Topical",color:"primary"}:"AK"===e?{name:"Activity",color:"secondary"}:void 0}function Q(e){return"HS"===e?{name:"High Level",color:"success"}:"MS"===e?{name:"Medium Level",color:"warning"}:"LS"===e?{name:"Low Level",color:"danger"}:void 0}var J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).buildKeywordOverviewModalBody=function(){var e=[];return a.props.items.map(function(t){return e.push(n.a.createElement(P.a,{key:t,tag:"a",onClick:function(){return a.showKeywordExtendedData(t)},href:"#0",action:!0},q(a.props.keywords[t].keywordName)))}),e=n.a.createElement(W.a,null,e)},a.buildDisplayText=function(){var e="",t=a.props.items;return t.map(function(t){return e+=q(a.props.keywords[t].keywordName)+", "}),(e=e.substring(0,e.length-2)).length>a.props.displayLength&&(e=e.substring(0,a.props.displayLength)+"..."),e=e.length>0?n.a.createElement("a",{href:"#0",key:t,onClick:function(){return a.setState({showKeywordOverviewModal:!a.state.showKeywordOverviewModal})}},e):"No Keywords"},a.state={showKeywordOverviewModal:!1,keywordOverviewModalTitle:"User Keywords",keywordOverviewModalBody:[],showKeywordDetailModal:!1,keywordDetailModalTitle:"User Keywords",keywordDetailModalBody:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({keywordOverviewModalBody:this.buildKeywordOverviewModalBody()}),this.buildDisplayText()}},{key:"showKeywordExtendedData",value:function(e){var t=this.props.keywords[e],a=n.a.createElement("div",null,"More Information on ",n.a.createElement("b",null,t.keywordName.toLowerCase())," keyword"),r=n.a.createElement("div",null,n.a.createElement(Y.a,{color:V(t.keywordType).color},V(t.keywordType).name),Z,n.a.createElement(Y.a,{color:Q(t.sortOrder).color},Q(t.sortOrder).name),n.a.createElement("br",null),n.a.createElement("span",null,null!==t.keywordDescription?t.keywordDescription:"No description provided."));this.setState({keywordDetailModalTitle:a,keywordDetailModalBody:r,showKeywordDetailModal:!this.state.showKeywordDetailModal})}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.buildDisplayText(),n.a.createElement(O,{openStatus:this.state.showKeywordOverviewModal,title:this.state.keywordOverviewModalTitle,body:this.state.keywordOverviewModalBody,toggle:function(){return e.setState({showKeywordOverviewModal:!e.state.showKeywordOverviewModal})},size:"lg"}),n.a.createElement(O,{openStatus:this.state.showKeywordDetailModal,title:this.state.keywordDetailModalTitle,body:this.state.keywordDetailModalBody,toggle:function(){return e.setState({showKeywordDetailModal:!e.state.showKeywordDetailModal})},size:"lg"}))}}]),t}(r.Component),$=Object(i.b)(function(e){return{keywords:e.keywords.items,keywordsLoading:e.keywords.loading,keywordError:e.keywords.error}})(J);function X(e){return"IO"===e?{name:"Institution",color:"primary"}:"CY"===e?{name:"City",color:"secondary"}:"CO"===e?{name:"County",color:"success"}:"NG"===e?{name:"NGO",color:"warning"}:"RA"===e?{name:"Regional Agency",color:"info"}:void 0}var ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).buildOrganizationOverviewModalBody=function(){var e=[];return a.props.items.map(function(t){return e.push(n.a.createElement(P.a,{key:t,tag:"a",onClick:function(){return a.showOrgExtendedData(t)},href:"#0",action:!0},a.props.orgs[t].orgNameUnique))}),e=n.a.createElement(W.a,null,e)},a.buildDisplayText=function(){var e="",t=a.props.items;return t.map(function(t){return e+=a.props.orgs[t].orgNameUnique+", "}),(e=e.substring(0,e.length-2)).length>a.props.displayLength&&(e=e.substring(0,a.props.displayLength)+"..."),e=e.length>0?n.a.createElement("a",{href:"#0",key:t,onClick:function(){return a.setState({showOrganizationOverviewModal:!a.state.showOrganizationOverviewModal})}},e):"No Organizations"},a.state={showOrganizationOverviewModal:!1,organizationOverviewModalTitle:"User Organizations",organizationOverviewModalBody:[],showOrganizationDetailModal:!1,organizationDetailModalTitle:"User Organizations",organizationDetailModalBody:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({organizationOverviewModalBody:this.buildOrganizationOverviewModalBody()})}},{key:"showOrgExtendedData",value:function(e){var t=this.props.orgs[e],a=n.a.createElement("div",null,this.props.orgs[e].orgNameUnique,Z,n.a.createElement(Y.a,{color:X(t.orgType).color},X(t.orgType).name)),r=null!==t.website?n.a.createElement(y.a,{outline:!0,color:"primary",size:"sm",href:t.website,target:"_blank",rel:"noopener noreferrer"},"Visit Website"):"No website provided";this.setState({organizationDetailModalTitle:a,organizationDetailModalBody:r,showOrganizationDetailModal:!this.state.showOrganizationDetailModal})}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.buildDisplayText(),n.a.createElement(O,{openStatus:this.state.showOrganizationOverviewModal,title:this.state.organizationOverviewModalTitle,body:this.state.organizationOverviewModalBody,toggle:function(){return e.setState({showOrganizationOverviewModal:!e.state.showOrganizationOverviewModal})},size:"lg"}),n.a.createElement(O,{openStatus:this.state.showOrganizationDetailModal,title:this.state.organizationDetailModalTitle,body:this.state.organizationDetailModalBody,toggle:function(){return e.setState({showOrganizationDetailModal:!e.state.showOrganizationDetailModal})},size:"lg"}))}}]),t}(r.Component),te=Object(i.b)(function(e){return{orgs:e.orgs.items,orgsLoading:e.orgs.loading,orgError:e.orgs.error}})(ee),ae=a(63),re=a(33),ne=a(64);function oe(e){switch(e){case"US":return{name:"University Faculty/Staff",color:"primary"};case"CS":return{name:"City Staff",color:"secondary"};case"CO":return{name:"County Staff",color:"success"};case"NS":return{name:"NGO Staff",color:"danger"};case"RS":return{name:"Regional Staff",color:"warning"};default:return{name:"Error",color:"dark"}}}re.b.add(ne.a);var le=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).showUserDetailModal=function(){var e=a.props.user,t=n.a.createElement("div",null,"About ",n.a.createElement("b",null,e.firstName," ",e.lastName)),r=n.a.createElement("div",null,n.a.createElement(Y.a,{color:oe(e.userType).color},oe(e.userType).name),n.a.createElement("br",null),n.a.createElement("b",null,"Email: "),n.a.createElement("a",{href:"mailto:"+e.emailAddress},e.emailAddress),n.a.createElement("br",null),e.website?n.a.createElement("div",null,n.a.createElement("b",null,"Website: "),Z,n.a.createElement("a",{href:e.website,target:"_blank",rel:"noopener noreferrer"},e.website)):"",e.jobTitle?n.a.createElement("div",null,n.a.createElement("b",null,"Job Title: "),Z,e.jobTitle):"",e.description?n.a.createElement("div",null,n.a.createElement("b",null,"About: "),Z,e.description.split("\n").map(function(e,t){return n.a.createElement("div",{key:t},e,n.a.createElement("br",null))})):"");a.setState({userDetailModalTitle:t,userDetailModalBody:r,showUserDetails:!0})},a.state={showUserDetails:!1,userDetailModalTitle:"",userDetailModalBody:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a,{onClick:function(){return e.showUserDetailModal()}},n.a.createElement(ae.a,{icon:"info"}),Z,"More Information"),n.a.createElement(O,{openStatus:this.state.showUserDetails,title:this.state.userDetailModalTitle,body:this.state.userDetailModalBody,toggle:function(){return e.setState({showUserDetails:!e.state.showUserDetails})},size:"lg"}))}}]),t}(r.Component),ie=a(139),se=a(34),ce=a.n(se),ue=a(36),de=a(15),me=a(45),pe=a(38),ge=a(134),he=a(135),Ee=a(136),fe=a(137),ye=a(138);function Oe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(me.a)(ce.a.mark(function e(t,a){return ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("api/v1/keywords/?format=json&keywordType="+t+"&sortOrder="+a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function be(e){return we.apply(this,arguments)}function we(){return(we=Object(me.a)(ce.a.mark(function e(t){var a,r,n,o,l,i,s;return ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t,"LS");case 2:return a=e.sent,e.next=5,Oe(t,"MS");case 5:return r=e.sent,e.next=8,Oe(t,"HS");case 8:if(n=e.sent,!(a.data&&r.data&&n.data)){e.next=15;break}return o=a.data.map(function(e){return{label:e.keywordName,value:e.id}}),l=r.data.map(function(e){return{label:e.keywordName,value:e.id}}),i=n.data.map(function(e){return{label:e.keywordName,value:e.id}}),s=[{label:"High Level Keywords",options:i},{label:"Medium Level Keywords",options:l},{label:"Low Level Keywords",options:o}],e.abrupt("return",s);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Se=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUnivertisyTypes=function(){var e=R.a.get("/api/v1/orgs/?format=json&orgType=IO");if(e)return e.then(function(e){return e.data.map(function(e){return{label:e.orgName+(isNaN(e.department)?" "+e.department:""),value:e.id}})})},a.handleChange=function(e){var t=e.target,r=t.name,n=t.value;"checkbox"===e.target.type&&(n=e.target.checked);var o=Object(de.a)({},a.state.queryData,Object(ue.a)({},r,n));a.setState({queryData:o})},a.state={queryData:a.props.selectedQuery,activityKeywords:[],topicalKeywords:[],selectedUniversities:[],validate:{emailState:""},selectedOption:null,modal:!1},a.handleChange=a.handleChange.bind(Object(S.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(S.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.submitHandler(this.state.queryData)}},{key:"render",value:function(){var e=this;this.props.submitHandler;return n.a.createElement(ge.a,{onSubmit:this.handleSubmit},n.a.createElement(he.a,null,n.a.createElement(Ee.a,null,n.a.createElement(fe.a,null,"University Selection"),n.a.createElement(pe.a,{ref:"universitySelection",name:"universitySelection",cacheOptions:!0,defaultOptions:!0,value:this.state.queryData.selectedUniversities,loadOptions:this.getUnivertisyTypes,onChange:function(t){return e.handleChange({target:{name:"selectedUniversities",value:t}})},isMulti:!0,isSearchable:!1,autoBlur:!1,closeOnSelect:!1,closeMenuOnSelect:!1})),n.a.createElement(Ee.a,null,n.a.createElement(fe.a,null,"Activity Keywords Selection"),n.a.createElement(pe.a,{ref:"activityKeywords",cacheOptions:!0,defaultOptions:!0,value:this.state.queryData.activityKeywords,loadOptions:function(){return be("AK")},onChange:function(t){return e.handleChange({target:{name:"activityKeywords",value:t}})},isMulti:!0,isSearchable:!1,autoBlur:!1,closeOnSelect:!1,closeMenuOnSelect:!1}),n.a.createElement(ye.a,null,"You can leave this blank to select all activity keywords.")),n.a.createElement(Ee.a,null,n.a.createElement(fe.a,null,"Topical Keywords Selection"),n.a.createElement(pe.a,{ref:"topicalKeywordSelection",cacheOptions:!0,defaultOptions:!0,value:this.state.queryData.topicalKeywords,loadOptions:function(){return be("TK")},onChange:function(t){return e.handleChange({target:{name:"topicalKeywords",value:t}})},isMulti:!0,isSearchable:!1,autoBlur:!1,closeOnSelect:!1,closeMenuOnSelect:!1}),n.a.createElement(ye.a,null,"You can leave this blank to select all topical keywords.")),n.a.createElement(y.a,{color:"success"},"Run Query")))}}]),t}(r.Component),Ce={TOGGLE_DEV_MODE:"TOGGLE_DEV_MODE",TOGGLE_NAV_BAR:"TOGGLE_NAV_BAR",TOGGLE_SEARCH_FOR_COLLABORATOR:"TOGGLE_SEARCH_FOR_COLLABORATOR"},Te=function(){return{type:Ce.TOGGLE_DEV_MODE}},ke=function(){return{type:Ce.TOGGLE_SEARCH_FOR_COLLABORATOR}},_e={FETCH_COLLABORATORS_BEGIN:"FETCH_COLLABORATORS_BEGIN",FETCH_COLLABORATORS_SUCCESS:"FETCH_COLLABORATORS_SUCCESS",FETCH_COLLABORATORS_FAILURE:"FETCH_COLLABORATORS_FAILURE",SET_QUERY_STATEMENT:"SET_QUERY_STATEMENT",GET_URL:"GET_URL"},je=function(e){return function(t){t({type:_e.FETCH_COLLABORATORS_BEGIN}),R.a.get(e).then(function(e){var a;t((a=e.data,{type:_e.FETCH_COLLABORATORS_SUCCESS,payload:{collaborators:a}}))}).catch(function(e){var a;t((a=e.message,{type:_e.FETCH_COLLABORATORS_FAILURE,payload:{error:a}}))})}},Ne=a(24),Me=a(106);var Ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){a.setState({selectedQueryStatements:e}),a.props.history.push("?".concat(function(e){var t=e.selectedUniversities,a=e.activityKeywords,r=e.topicalKeywords,n="";if(t)for(var o=0;o<t.length;o++)n+="org="+t[o].value+"&";if(a)for(var l=0;l<a.length;l++)n+="keyA="+a[l].value+"&";if(r)for(var i=0;i<r.length;i++)n+="keyT="+r[i].value+"&";return n=n.substring(0,n.length-1)}(e))),a.props.fetchCollaborators(function(e){var t=e.selectedUniversities,a=e.activityKeywords,r=e.topicalKeywords,n="/api/v1/users/?format=json";if(t)for(var o=0;o<t.length;o++)n+="&organization="+t[o].value;if(a)for(var l=0;l<a.length;l++)n+="&keywords="+a[l].value;if(r)for(var i=0;i<r.length;i++)n+="&keywords="+r[i].value;return n}(e))},a.state={selectedQueryStatements:{activityKeywords:[],topicalKeywords:[],selectedUniversities:[]}},a.handleSubmit=a.handleSubmit.bind(Object(S.a)(a)),a.readParams=a.readParams.bind(Object(S.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.readParams()}},{key:"readParams",value:function(){var e=Me.parse(this.props.location.search);console.log(e.keyA),e.keyA&&e.keyA.map(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.props;e.match,e.location,e.history;return n.a.createElement(n.a.Fragment,null,n.a.createElement(ie.a,{fluid:!0},n.a.createElement(C.a,{fluid:!0},n.a.createElement("h1",{className:"display-3"},"Looking for a Collaborator?"),n.a.createElement("p",{className:"lead"},"Use the form below to query potential collaborators."),n.a.createElement("hr",{className:"my-2"}),n.a.createElement(Se,{selectedQuery:this.state.selectedQueryStatements,submitHandler:this.handleSubmit}))))}}]),t}(r.Component),Le={toggleSearchForCollaborator:ke,fetchCollaborators:je};Ae=Object(Ne.e)(Ae);var Re=Object(i.b)(function(e){return{nav:e.nav,orgs:e.orgs.items}},Le)(Ae),Fe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).renderDisplayUserItems=function(){return a.state.pageItems.map(function(e){return n.a.createElement("tr",{key:e.id},n.a.createElement("th",{scope:"row"},e.firstName," ",e.lastName),n.a.createElement("td",null,a.props.orgsLoading&&a.props.orgs!==[]?n.a.createElement(p.a,{color:"primary"}):n.a.createElement(te,{items:e.organization,displayLength:20})),n.a.createElement("td",null,n.a.createElement("a",{href:"mailto:"+e.emailAddress},e.emailAddress)),n.a.createElement("td",null,a.props.keywordsLoading&&a.props.keywords!==[]?n.a.createElement(p.a,{color:"primary"}):n.a.createElement($,{items:e.keywords,displayLength:75})),n.a.createElement("td",null,n.a.createElement(le,{user:e})))})},a.state={pageItems:[],pageSize:30},a.onChangePage=a.onChangePage.bind(Object(S.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onChangePage",value:function(e){this.setState({pageItems:e})}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(Re,null),n.a.createElement(C.a,{fluid:!0},n.a.createElement(T.a,{hover:!0,responsive:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Organization"),n.a.createElement("th",null,"Email Address"),n.a.createElement("th",null,"Keywords"),n.a.createElement("th",null,"More Information"))),n.a.createElement("tbody",null,this.renderDisplayUserItems())),n.a.createElement(A,{pageSize:this.state.pageSize,items:this.props.collaborators,onChangePage:this.onChangePage})))}}]),t}(r.Component),Ie={fetchKeywords:U,fetchOrganizations:x},De=Object(i.b)(function(e){return{keywords:e.keywords.items,keywordsLoading:e.keywords.loading,keywordError:e.keywords.error,orgs:e.orgs.items,orgsLoading:e.orgs.loading,orgError:e.orgs.error,collaborators:e.collaborators.items}},Ie)(Fe),Be=a(142),Ue=a(143),Ge=a(144),He=a(145),Ke=a(146),ze=a(147),xe=a(148),Pe=a(30),We=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.nav,r=t.settings;return n.a.createElement(Be.a,{color:"light",light:!0,expand:"md"},n.a.createElement(Ue.a,{tag:Pe.b,exact:!0,to:"/"},r.siteHeading),n.a.createElement(Ge.a,{onClick:function(){return e.props.toggleNavBar()}}),n.a.createElement(He.a,{isOpen:a.navOpen,navbar:!0},n.a.createElement(Ke.a,{className:"ml-auto",navbar:!0},n.a.createElement(ze.a,null,n.a.createElement(xe.a,{tag:Pe.b,exact:!0,to:"/collaborator",activeClassName:"active"},"Search for a Collaborator")),"dev"===r.commitBranch&&!1===a.devModeOpen?n.a.createElement(ze.a,null,n.a.createElement(y.a,{color:"warning",onClick:function(){return e.props.toggleDevMode()}},"Open  development information")):null,n.a.createElement(ze.a,null))))}}]),t}(r.Component),Ye={toggleNavBar:function(){return{type:Ce.TOGGLE_NAV_BAR}},toggleDevMode:Te,toggleSearchForCollaborator:ke},qe=Object(i.b)(function(e){return{nav:e.nav,settings:e.settings}},Ye)(We),Ze=a(149),Ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={navIsOpen:!1,devModeOpen:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.nav,r=t.settings;return n.a.createElement(n.a.Fragment,null,"dev"===r.commitBranch?n.a.createElement(Ze.a,{color:"light",isOpen:a.devModeOpen,toggle:function(){return e.props.toggleDevMode()}},n.a.createElement("h4",{className:"alert-heading"},"Development Mode"),n.a.createElement("p",null,"The 4C database query utility is currently being ",n.a.createElement("b",null,"developed"),". To view the repository, please visit: ",n.a.createElement("a",{href:"https://github.com/dgaiero/c4-website"},"https://github.com/dgaiero/c4-website")),n.a.createElement("p",null,"Directory information contained on this website may be falsified while the site is under development."),n.a.createElement("hr",null),n.a.createElement("p",{className:"mb-0"},"The current running commit has a message of: ",n.a.createElement("em",null,r.commitMessage),n.a.createElement("br",null),"When providing support or feedback, please provide the following version information:",n.a.createElement("br",null),n.a.createElement("code",null,r.commitBranch,"/",r.commitHash),n.a.createElement("br",null),n.a.createElement("a",{href:"https://github.com/dgaiero/c4-website/tree/"+r.commitHash,target:"_blank",rel:"noopener noreferrer"},"Open in Remote"))):null)}}]),t}(r.Component),Qe={toggleDevMode:Te},Je=Object(i.b)(function(e){return{nav:e.nav,settings:e.settings}},Qe)(Ve),$e={FETCH_SETTINGS_BEGIN:"FETCH_SETTINGS_BEGIN",FETCH_SETTINGS_SUCCESS:"FETCH_SETTINGS_SUCCESS",FETCH_SETTINGS_FAILURE:"FETCH_SETTINGS_FAILURE"},Xe=function(){return{type:$e.FETCH_SETTINGS_BEGIN}},et=function(e){return{type:$e.FETCH_SETTINGS_SUCCESS,payload:{settings:e}}},tt=function(e){return{type:$e.FETCH_SETTINGS_FAILURE,payload:{error:e}}};var at=a(150),rt=a(151),nt=a(152),ot=a(153),lt=a(154),it=(a(119),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={navIsOpen:!1,devModeOpen:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.settings;return n.a.createElement(ie.a,{fluid:!0},n.a.createElement(C.a,{fluid:!0},n.a.createElement("h1",{className:"display-3"},e.frontHeading),n.a.createElement("p",{className:"lead"},e.frontMessage),n.a.createElement("hr",{className:"my-2"}),n.a.createElement("p",null,e.frontMessageSubText),n.a.createElement("p",{className:"lead"},n.a.createElement(y.a,{href:"mailto:"+e.additionEmailAddress,color:"primary"},"Request Addition to Database"))))}}]),t}(r.Component)),st=Object(i.b)(function(e){return{settings:e.settings}})(it),ct=function(){return n.a.createElement("div",{style:{border:"1px solid rgb(33, 37, 41)",overflow:"hidden",borderRadius:".25rem"}},n.a.createElement(at.a,{className:"cardHideOverflow"},n.a.createElement("span",{className:"newFeaturesBanner"},n.a.createElement("b",null,"New Features Coming Soon!")),n.a.createElement("div",{className:"underConstructionCardImage"},n.a.createElement(rt.a,null,n.a.createElement("h5",{className:"cardTitle"},"Under Construction"),n.a.createElement(nt.a,null,"New features will be coming soon!")),n.a.createElement(ot.a,null,n.a.createElement(y.a,{color:"secondary",disabled:!0},"Button Coming Soon")))))},ut=function(){return n.a.createElement("div",{style:{border:"1px solid rgb(33, 37, 41)",overflow:"hidden",borderRadius:".25rem"}},n.a.createElement(at.a,{className:"cardHideOverflow"},n.a.createElement("div",{className:"lookingForCollaboratorCardImage"},n.a.createElement(rt.a,null,n.a.createElement("h5",{className:"cardTitle"},"Looking for a Collaborator?"),n.a.createElement(nt.a,null,"With supporting text below as a natural lead-in to additional content.")),n.a.createElement(ot.a,null,n.a.createElement(y.a,{color:"secondary",tag:Pe.b,exact:!0,to:"/collaborator"},"Search For a Collaborator")))))},dt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={navIsOpen:!1,devModeOpen:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(st,null),n.a.createElement(C.a,null,n.a.createElement(lt.a,null,n.a.createElement(he.a,{class:"d-flex align-items-stretch"},n.a.createElement(ut,null)),n.a.createElement(he.a,{class:"d-flex align-items-stretch"},n.a.createElement(ct,null)),n.a.createElement(he.a,{class:"d-flex align-items-stretch"},n.a.createElement(ct,null)))))}}]),t}(r.Component),mt=Object(i.b)(function(e){return{settings:e.settings}})(dt),pt=(a(120),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSettings(),this.props.fetchKeywords(),this.props.fetchOrganizations(),this.props.fetchCollaborators("/api/v1/users/?format=json")}},{key:"calculateLoadingState",value:function(e){var t=[];return e.map(function(e){return t.push(e.condition,null!==e.error)}),t=t.every(function(e){return!1===e})}},{key:"render",value:function(){var e=[{friendlyName:"Organizations",condition:this.props.orgs.loading,error:this.props.orgs.error},{friendlyName:"Users",condition:this.props.collaborators.loading,error:this.props.collaborators.error},{friendlyName:"Settings",condition:this.props.settings.loading,error:this.props.settings.error}];e.push({friendlyName:"Keywords",condition:this.props.keywords.loading,error:this.props.keywords.error});var t=this.calculateLoadingState(e);return n.a.createElement("main",{className:"App content"},n.a.createElement(w,{body:e,status:t}),n.a.createElement(Je,null),n.a.createElement(qe,null),n.a.createElement(Ne.a,{path:"/",exact:!0,component:mt}),n.a.createElement(Ne.a,{path:"/collaborator",component:De}))}}]),t}(r.Component)),gt={fetchSettings:function(){return console.log("FETCHED"),function(e){return e(Xe()),R.a.get("api/v1/frontendParameters/1/?format=json").then(function(t){e(et(t.data))}).catch(function(t){return e(tt(t))})}},fetchKeywords:U,fetchOrganizations:x,fetchCollaborators:je},ht=Object(i.b)(function(e){return{settings:e.settings,keywords:e.keywords,orgs:e.orgs,collaborators:e.collaborators}},gt)(pt),Et=function(e){var t=e.store;return n.a.createElement(i.a,{store:t},n.a.createElement(Pe.a,null,n.a.createElement(Ne.a,{path:"/:filter?",component:ht})))},ft=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("footer",{className:"footer mt-auto py-3",style:{backgroundColor:"#F8F9FA"}},n.a.createElement(C.a,{fluid:!0,className:"clearfix"},n.a.createElement("span",{className:"text-muted float-left"},"Copyright ","\xa9"," 2019 Central Coast Climate Collaborative "),n.a.createElement("a",{href:"https://www.centralcoastclimate.org/",className:"float-right",target:"_blank",rel:"noopener noreferrer"},"Visit main website")))}}]),t}(r.Component),yt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ot(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var vt=a(29),bt={siteHeading:"Loading...",frontHeading:"Loading...",frontMessage:"Loading...",frontMessageSubText:"Loading...",additionEmailAddress:"Loading...",commitBranch:"master",commitHash:"Loading...",commitMessage:"Loading...",loading:!0,error:null};var wt={items:[],loading:!0,error:null};var St={items:[],loading:!0,error:null};var Ct={searchForCollaborator:!1,devModeOpen:!1,navOpen:!1};var Tt={items:[],loading:!0,error:null,url:""};var kt=Object(vt.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e.FETCH_SETTINGS_BEGIN:return console.log("BEGIN"),Object(de.a)({},e,{loading:!0,error:null});case $e.FETCH_SETTINGS_SUCCESS:return console.log("SUCCESS"),console.log(t.payload),Object(de.a)({},e,t.payload.settings,{loading:!1});case $e.FETCH_SETTINGS_FAILURE:return console.log("FAILURE"),Object(de.a)({},e,{loading:!1,error:t.payload.error,items:[]});default:return e}},keywords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.FETCH_KEYWORDS_BEGIN:return Object(de.a)({},e,{loading:!0,error:null});case F.FETCH_KEYWORDS_SUCCESS:return Object(de.a)({},e,{loading:!1,items:t.payload.keywords});case F.FETCH_KEYWORDS_FAILURE:return Object(de.a)({},e,{loading:!1,error:t.payload.error,items:[]});default:return e}},orgs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.FETCH_ORGANIZATIONS_BEGIN:return Object(de.a)({},e,{loading:!0,error:null});case G.FETCH_ORGANIZATIONS_SUCCESS:return Object(de.a)({},e,{loading:!1,items:t.payload.organizations});case G.FETCH_ORGANIZATIONS_FAILURE:return Object(de.a)({},e,{loading:!1,error:t.payload.error,items:[]});default:return e}},nav:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;switch((arguments.length>1?arguments[1]:void 0).type){case Ce.TOGGLE_SEARCH_FOR_COLLABORATOR:return Object(de.a)({},e,{searchForCollaborator:!e.searchForCollaborator});case Ce.TOGGLE_DEV_MODE:return Object(de.a)({},e,{devModeOpen:!e.devModeOpen});case Ce.TOGGLE_NAV_BAR:return Object(de.a)({},e,{navOpen:!e.navOpen});default:return e}},collaborators:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e.FETCH_COLLABORATORS_BEGIN:return Object(de.a)({},e,{loading:!0,error:null});case _e.FETCH_COLLABORATORS_SUCCESS:return Object(de.a)({},e,{loading:!1,items:t.payload.collaborators});case _e.FETCH_COLLABORATORS_FAILURE:return Object(de.a)({},e,{loading:!1,error:t.payload.error,items:[]});case _e.GET_URL:return Object(de.a)({},e,{url:t.payload.url});default:return e}}}),_t=a(66),jt=Object(vt.a)(_t.a)(vt.d)(kt);l.a.render([n.a.createElement(Et,{store:jt,key:1}),n.a.createElement(ft,{key:"2"})],document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/c4-website",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/c4-website","/service-worker.js");yt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ot(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ot(e)})}}()},18:function(e,t,a){},40:function(e,t,a){},68:function(e,t,a){e.exports=a(121)},74:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.b4e29360.chunk.js.map